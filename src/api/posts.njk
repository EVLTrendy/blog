---
permalink: /api/posts.json
eleventyExcludeFromCollections: true
---
{
  "stats": {
    "totalBlogPosts": {{ collections.cmsPosts | length }},
    "totalHubs": {{ collections.hubs | length if collections.hubs else 0 }},
    "totalAuthors": {{ collections.authors | length if collections.authors else 0 }},
    "totalNotifications": {{ collections.notifications | length if collections.notifications else 0 }},
    "totalPages": {{ collections.pages | length if collections.pages else 0 }},
    "lastUpdated": "{{ "now" | date("yyyy-MM-dd HH:mm:ss") }}"
  },
  "blog": [
    {%- for post in collections.cmsPosts -%}
    {
      "id": "{{ post.url | replace('/blog/', '') | replace('/', '') }}",
      "slug": "{{ post.fileSlug }}",
      "url": "{{ post.url }}",
      "title": {{ post.data.title | dump | safe }},
      "description": {{ post.data.description | dump | safe }},
      "date": "{{ post.date | date("yyyy-MM-dd") }}",
      "author": {{ post.data.author | default("EvolvedLotus Team") | dump | safe }},
      "tags": {{ post.data.tags | dump | safe }},
      "category": {{ post.data.category | default("") | dump | safe }},
      "featured": {{ post.data.featured | default(false) }},
      "image": {{ post.data.image | default("") | dump | safe }},
      "imageAlt": {{ post.data.imageAlt | default("") | dump | safe }},
      "keywords": {{ post.data.keywords | default("") | dump | safe }},
      "schema_type": {{ post.data.schema_type | default("Article") | dump | safe }},
      "og_type": {{ post.data.og_type | default("article") | dump | safe }},
      "body": {{ post.templateContent | dump | safe }}
    }{% if not loop.last %},{% endif %}
    {%- endfor -%}
  ],
  "hubs": [
    {%- for hub in collections.hubs -%}
    {
      "id": "{{ hub.fileSlug }}",
      "url": "{{ hub.url }}",
      "title": {{ hub.data.title | dump | safe }},
      "platform": {{ hub.data.platform | default("") | dump | safe }},
      "description": {{ hub.data.description | dump | safe }},
      "body": {{ hub.templateContent | dump | safe }}
    }{% if not loop.last %},{% endif %}
    {%- endfor -%}
  ],
  "authors": [
    {%- for author in collections.authors -%}
    {
      "id": "{{ author.fileSlug }}",
      "url": "{{ author.url }}",
      "name": {{ author.data.name | dump | safe }},
      "role": {{ author.data.role | dump | safe }},
      "bio": {{ author.data.bio | dump | safe }},
      "avatar": {{ author.data.avatar | dump | safe }},
      "social": {{ author.data.social | dump | safe }},
      "expertise": {{ author.data.expertise | dump | safe }},
      "body": {{ author.templateContent | dump | safe }}
    }{% if not loop.last %},{% endif %}
    {%- endfor -%}
  ],
  "notifications": [
    {%- for notif in collections.notifications -%}
    {
      "id": "{{ notif.fileSlug }}",
      "url": "{{ notif.url }}",
      "title": {{ notif.data.title | dump | safe }},
      "date": "{{ notif.date | date("yyyy-MM-dd") }}",
      "link": {{ notif.data.link | dump | safe }},
      "body": {{ notif.templateContent | dump | safe }}
    }{% if not loop.last %},{% endif %}
    {%- endfor -%}
  ],
  "pages": [
    {%- for page in collections.pages -%}
    {
      "id": "{{ page.fileSlug }}",
      "url": "{{ page.url }}",
      "title": {{ page.data.title | dump | safe }},
      "layout": {{ page.data.layout | dump | safe }},
      "body": {{ page.templateContent | dump | safe }}
    }{% if not loop.last %},{% endif %}
    {%- endfor -%}
  ]
}
