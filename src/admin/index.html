<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />
  <title>Complete Content Management System</title>
  <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura.css">
  <style>
    .cms-sidebar {
      position: fixed;
      left: 0;
      top: 0;
      width: 250px;
      height: 100vh;
      background: #f8f9fa;
      padding: 20px;
      overflow-y: auto;
      border-right: 1px solid #dee2e6;
    }

    .cms-main {
      margin-left: 250px;
      padding: 20px;
    }

    .cms-nav-item {
      display: block;
      padding: 10px;
      margin: 5px 0;
      text-decoration: none;
      color: #333;
      border-radius: 5px;
    }

    .cms-nav-item:hover,
    .cms-nav-item.active {
      background: #33bdef;
      color: white;
    }

    .content-section {
      display: none;
    }

    .content-section.active {
      display: block;
    }

    .content-list {
      margin: 20px 0;
    }

    .content-item {
      padding: 15px;
      border: 1px solid #ddd;
      margin: 10px 0;
      background: #f9f9f9;
      border-radius: 8px;
    }

    .content-item h4 {
      margin: 0 0 8px 0;
    }

    .content-meta {
      color: #666;
      font-size: 0.9em;
    }

    .content-actions {
      margin-top: 10px;
    }

    .btn {
      padding: 8px 16px;
      margin: 0 5px;
      cursor: pointer;
      border: 1px solid #ccc;
      background: #fff;
      border-radius: 4px;
    }

    .btn.primary {
      background: #33bdef;
      color: white;
      border-color: #33bdef;
    }

    .btn.success {
      background: #28a745;
      color: white;
      border-color: #28a745;
    }

    .btn.warning {
      background: #ffc107;
      color: black;
      border-color: #ffc107;
    }

    .btn.danger {
      background: #dc3545;
      color: white;
      border-color: #dc3545;
    }

    .btn.info {
      background: #17a2b8;
      color: white;
      border-color: #17a2b8;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
    }

    .modal-content {
      background: white;
      margin: 5% auto;
      padding: 20px;
      width: 90%;
      max-width: 900px;
      border-radius: 8px;
      max-height: 80vh;
      overflow-y: auto;
    }

    form {
      margin-top: 20px;
    }

    label {
      display: block;
      margin: 10px 0 5px 0;
      font-weight: bold;
    }

    input,
    textarea,
    select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
    }

    textarea {
      min-height: 300px;
      font-family: monospace;
    }

    .form-row {
      margin-bottom: 15px;
    }

    .form-row.half {
      width: 48%;
      display: inline-block;
      margin-right: 4%;
    }

    .form-row.half:last-child {
      margin-right: 0;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .stat-card {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }

    .stat-number {
      font-size: 2em;
      font-weight: bold;
      color: #33bdef;
    }

    .stat-label {
      color: #666;
    }

    .recent-activity {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
    }

    .activity-item {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }

    .activity-item:last-child {
      border-bottom: none;
    }

    .badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.8em;
      font-weight: bold;
    }

    .badge.blog {
      background: #28a745;
      color: white;
    }

    .badge.hub {
      background: #ffc107;
      color: black;
    }

    .badge.author {
      background: #17a2b8;
      color: white;
    }

    .badge.notification {
      background: #dc3545;
      color: white;
    }

    @media (max-width: 768px) {
      .cms-sidebar {
        display: none;
      }

      .cms-main {
        margin-left: 0;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .form-row.half {
        width: 100%;
        margin-right: 0;
      }
    }
  </style>
</head>

<body>
  <!-- Sidebar Navigation -->
  <nav class="cms-sidebar">
    <h3>üìä Dashboard</h3>
    <a href="#" class="cms-nav-item active" onclick="showSection('overview')">Overview</a>
    <a href="#" class="cms-nav-item" onclick="showSection('blog')">üìù Blog Posts</a>
    <a href="#" class="cms-nav-item" onclick="showSection('hubs')">üîó Content Hubs</a>
    <a href="#" class="cms-nav-item" onclick="showSection('authors')">üë• Authors</a>
    <a href="#" class="cms-nav-item" onclick="showSection('notifications')">üîî Notifications</a>
    <a href="#" class="cms-nav-item" onclick="showSection('pages')">üìÑ Pages</a>
    <a href="#" class="cms-nav-item" onclick="showSection('media')">üñºÔ∏è Media</a>
    <a href="#" class="cms-nav-item" onclick="showSection('analytics')">üìà Analytics</a>
  </nav>

  <!-- Main Content -->
  <main class="cms-main">
    <!-- Overview/Dashboard -->
    <section id="overview" class="content-section active">
      <h1>üìä Content Management Dashboard</h1>
      <p>Complete control over your EvolvedLotus blog and content</p>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">70+</div>
          <div class="stat-label">Blog Posts</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">8</div>
          <div class="stat-label">Content Hubs</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">5</div>
          <div class="stat-label">Authors</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">1K+</div>
          <div class="stat-label">Monthly Visitors</div>
        </div>
      </div>

      <div class="recent-activity">
        <h3>üïê Recent Activity</h3>
        <div class="activity-item">
          <span class="badge blog">Blog</span> Published "Mobile Photography Techniques for Better Content"
        </div>
        <div class="activity-item">
          <span class="badge hub">Hub</span> Updated TikTok marketing strategies
        </div>
        <div class="activity-item">
          <span class="badge notification">Notification</span> Added new Twitter automation guide
        </div>
        <div class="activity-item">
          <span class="badge author">Author</span> Marc C. published weekly Twitch report
        </div>
      </div>

      <div style="background: #e8f5e8; border: 2px solid #4caf50; padding: 15px; border-radius: 8px; margin: 20px 0;">
        <h3>‚úÖ System Status: All Good!</h3>
        <ul>
          <li>‚úÖ Content publishing system working</li>
          <li>‚úÖ Search functionality active</li>
          <li>‚úÖ RSS feeds generating</li>
          <li>‚úÖ Social media sharing enabled</li>
        </ul>
      </div>
    </section>

    <!-- Blog Posts Management -->
    <section id="blog" class="content-section">
      <h1>üìù Blog Posts Management</h1>
      <div style="margin: 20px 0;">
        <button class="btn primary" onclick="createNewContent('blog')">+ New Blog Post</button>
        <button class="btn" onclick="refreshSection('blog')">üîÑ Refresh</button>
      </div>
      <div id="blogList" class="content-list">
        <p>Loading blog posts...</p>
      </div>
    </section>

    <!-- Content Hubs Management -->
    <section id="hubs" class="content-section">
      <h1>üîó Content Hubs Management</h1>
      <p>Manage platform-specific content strategies</p>
      <div style="margin: 20px 0;">
        <button class="btn primary" onclick="createNewContent('hub')">+ New Hub Content</button>
        <button class="btn" onclick="refreshSection('hubs')">üîÑ Refresh</button>
      </div>
      <div id="hubsList" class="content-list">
        <div class="content-item">
          <h4>TikTok Marketing Hub</h4>
          <div class="content-meta">Last updated: 2 days ago</div>
          <div class="content-actions">
            <button class="btn info">Edit Strategies</button>
            <button class="btn success">View Hub</button>
          </div>
        </div>
        <!-- More hub items would be loaded dynamically -->
      </div>
    </section>

    <!-- Authors Management -->
    <section id="authors" class="content-section">
      <h1>üë• Authors Management</h1>
      <div style="margin: 20px 0;">
        <button class="btn primary" onclick="createNewContent('author')">+ New Author</button>
        <button class="btn" onclick="refreshSection('authors')">üîÑ Refresh</button>
      </div>
      <div id="authorsList" class="content-list">
        <div class="content-item">
          <h4>Marc C.</h4>
          <div class="content-meta">Content Creator & Strategist</div>
          <div class="content-actions">
            <button class="btn info">Edit Profile</button>
            <button class="btn" onclick="window.open('/authors/marc-c', '_blank')">View Profile</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Notifications Management -->
    <section id="notifications" class="content-section">
      <h1>üîî Notifications Management</h1>
      <div style="margin: 20px 0;">
        <button class="btn primary" onclick="createNewContent('notification')">+ New Notification</button>
        <button class="btn" onclick="refreshSection('notifications')">üîÑ Refresh</button>
      </div>
      <div id="notificationsList" class="content-list">
        <div class="content-item">
          <h4>New Twitter Automation Guide Available</h4>
          <div class="content-meta">Published: 2025-05-22</div>
          <div class="content-actions">
            <button class="btn warning">Edit</button>
            <button class="btn success">View</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Pages Management -->
    <section id="pages" class="content-section">
      <h1>üìÑ Pages Management</h1>
      <div style="margin: 20px 0;">
        <button class="btn primary" onclick="createNewContent('page')">+ New Page</button>
        <button class="btn" onclick="refreshSection('pages')">üîÑ Refresh</button>
      </div>
      <div id="pagesList" class="content-list">
        <div class="content-item">
          <h4>About Page</h4>
          <div class="content-meta">Status: Published</div>
          <div class="content-actions">
            <button class="btn info">Edit</button>
            <button class="btn" onclick="window.open('/about', '_blank')">View</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Media Management -->
    <section id="media" class="content-section">
      <h1>üñºÔ∏è Media Management</h1>
      <div style="margin: 20px 0;">
        <button class="btn primary" onclick="createNewContent('media')">+ Upload Media</button>
        <button class="btn" onclick="refreshSection('media')">üîÑ Refresh</button>
      </div>
      <div id="mediaList" class="content-list">
        <p>Media library would show all uploaded images and assets...</p>
      </div>
    </section>

    <!-- Analytics -->
    <section id="analytics" class="content-section">
      <h1>üìà Content Analytics</h1>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">2.4K</div>
          <div class="stat-label">Page Views (Today)</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">45</div>
          <div class="stat-label">Hours Read (Today)</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">12</div>
          <div class="stat-label">Articles Published (This Month)</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">89%</div>
          <div class="stat-label">Search Satisfaction</div>
        </div>
      </div>
    </section>
  </main>

  <!-- Content Editor Modal -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <h2 id="modalTitle">Content Editor</h2>
      <form id="contentForm">
        <div class="form-row">
          <label for="contentType">Content Type:</label>
          <select id="contentType">
            <option value="blog">Blog Post</option>
            <option value="hub">Content Hub</option>
            <option value="author">Author Profile</option>
            <option value="notification">Notification</option>
            <option value="page">Page</option>
          </select>
        </div>

        <div id="blogFields">
          <div class="form-row">
            <label for="title">Title:</label>
            <input type="text" id="title" required>
          </div>
          <div class="form-row">
            <label for="description">Description/Excerpt:</label>
            <textarea id="description" rows="3" required></textarea>
          </div>
          <div class="form-row half">
            <label for="date">Publish Date:</label>
            <input type="datetime-local" id="date" required>
          </div>
          <div class="form-row half">
            <label for="author">Author:</label>
            <input type="text" id="author" value="EvolvedLotus Team">
          </div>
          <div class="form-row">
            <label for="tags">Tags (comma-separated):</label>
            <input type="text" id="tags" placeholder="content-creation, social-media, featured">
          </div>
          <div class="form-row">
            <label for="image">Featured Image URL:</label>
            <input type="url" id="image" placeholder="/assets/blog/your-image.jpg">
          </div>
          <div class="form-row">
            <label for="category">Category:</label>
            <select id="category">
              <option value="">Select Category</option>
              <option value="content-creation">Content Creation</option>
              <option value="social-media">Social Media</option>
              <option value="seo">SEO</option>
              <option value="analytics">Analytics</option>
              <option value="tools">Tools & Resources</option>
            </select>
          </div>
          <div class="form-row">
            <label><input type="checkbox" id="featured"> Featured Content</label>
          </div>
        </div>

        <div class="form-row">
          <label for="content">Content (Markdown supported):</label>
          <textarea id="content" required></textarea>
        </div>

        <div class="form-row">
          <button type="submit" class="btn primary">Save Content</button>
          <button type="button" class="btn" onclick="closeModal()">Cancel</button>
          <button type="button" id="deleteBtn" class="btn danger" style="display:none;"
            onclick="deleteContent()">Delete</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    let currentSection = 'overview';
    let contentData = {};

    // Navigation
    function showSection(sectionName) {
      document.querySelectorAll('.content-section').forEach(section => {
        section.classList.remove('active');
      });
      document.querySelectorAll('.cms-nav-item').forEach(item => {
        item.classList.remove('active');
      });

      document.getElementById(sectionName).classList.add('active');
      event.target.classList.add('active');
      currentSection = sectionName;
    }

    // Initialize blog posts list
    function refreshSection(section) {
      // Simulate loading content - in real CMS this would fetch from backend
      switch (section) {
        case 'blog':
          loadBlogPosts();
          break;
        case 'hubs':
          loadHubContent();
          break;
        case 'authors':
          loadAuthors();
          break;
        case 'notifications':
          loadNotifications();
          break;
        case 'pages':
          loadPages();
          break;
        case 'media':
          loadMedia();
          break;
      }
    }

    // Load content data from API
    async function loadContentData() {
      try {
        const response = await fetch('/api/posts.json');
        const data = await response.json();
        contentData = data;

        // Update stats
        if (data.stats) {
          const statNumbers = document.querySelectorAll('.stat-number');
          if (statNumbers.length >= 3) {
            statNumbers[0].textContent = data.stats.totalBlogPosts + '+';
            statNumbers[1].textContent = data.stats.totalHubs;
            statNumbers[2].textContent = data.stats.totalAuthors;
          }
        }

        return data;
      } catch (error) {
        console.error('Error loading content data:', error);
        return null;
      }
    }

    function loadBlogPosts(posts = contentData.blog || []) {
      let html = `<h3>üìã Your Blog Posts (${posts.length})</h3>`;
      if (posts.length === 0) {
        html += '<p>No blog posts found.</p>';
      } else {
        posts.forEach(post => {
          const isFeatured = post.featured;
          const tags = post.tags ? post.tags.slice(0, 3).join(', ') : '';
          html += `
            <div class="content-item">
              <h4>${post.title} ${isFeatured ? '<span class="badge">FEATURED</span>' : ''}</h4>
              <div class="content-meta">
                Published: ${post.date} | Author: ${post.author}
                ${post.category ? ` | Category: ${post.category}` : ''}
                ${tags ? ` | Tags: ${tags}` : ''}
              </div>
              ${post.image ? `<div class="content-meta"><small>üì∏ Featured Image: ${post.image}</small></div>` : ''}
              <div class="content-actions">
                <button class="btn info" onclick="editContent('blog', '${post.id}')">Edit</button>
                <button class="btn success" onclick="viewContent('${post.url}')">View Post</button>
                <button class="btn warning" onclick="previewContent('${post.url}')">Preview</button>
              </div>
            </div>
          `;
        });
      }
      document.getElementById('blogList').innerHTML = html;
    }

    function loadHubContent(hubs = contentData.hubs || []) {
      let html = `<h3>üîó Content Hubs (${hubs.length})</h3>`;
      if (hubs.length === 0) {
        html += '<p>No hubs found.</p>';
      } else {
        hubs.forEach(hub => {
          html += `
            <div class="content-item">
              <h4>${hub.title}</h4>
              <div class="content-meta">Platform: ${hub.platform} | Description: ${hub.description || 'No description'}</div>
              <div class="content-actions">
                <button class="btn info" onclick="editContent('hub', '${hub.id}')">Edit Hub</button>
                <button class="btn success" onclick="viewContent('${hub.url}')">View Hub</button>
              </div>
            </div>
          `;
        });
      }
      document.getElementById('hubsList').innerHTML = html;
    }

    function loadAuthors(authors = contentData.authors || []) {
      let html = `<h3>üë• Authors (${authors.length})</h3>`;
      if (authors.length === 0) {
        html += '<p>No authors found.</p>';
      } else {
        authors.forEach(author => {
          const expertise = author.expertise ? author.expertise.join(', ') : '';
          html += `
            <div class="content-item">
              <h4>${author.name}</h4>
              <div class="content-meta">${author.role} | Bio: ${author.bio || 'No bio'}</div>
              ${expertise ? `<div class="content-meta">Expertise: ${expertise}</div>` : ''}
              <div class="content-actions">
                <button class="btn info" onclick="editContent('author', '${author.id}')">Edit Profile</button>
                <button class="btn success" onclick="viewContent('${author.url}')">View Profile</button>
              </div>
            </div>
          `;
        });
      }
      document.getElementById('authorsList').innerHTML = html;
    }

    function loadPages(pages = contentData.pages || []) {
      let html = `<h3>üìÑ Pages (${pages.length})</h3>`;
      if (pages.length === 0) {
        html += '<p>No pages found.</p>';
      } else {
        pages.forEach(page => {
          html += `
            <div class="content-item">
              <h4>${page.title}</h4>
              <div class="content-meta">Layout: ${page.layout} | ${page.description || 'No description'}</div>
              <div class="content-actions">
                <button class="btn info" onclick="editContent('page', '${page.id}')">Edit</button>
                <button class="btn success" onclick="viewContent('${page.url}')">View Page</button>
              </div>
            </div>
          `;
        });
      }
      document.getElementById('pagesList').innerHTML = html;
    }

    function loadNotifications(notifications = contentData.notifications || []) {
      let html = `<h3>üîî Notifications (${notifications.length})</h3>`;
      if (notifications.length === 0) {
        html += '<p>No notifications found.</p>';
      } else {
        notifications.forEach(notification => {
          const tags = notification.tags ? notification.tags.join(', ') : '';
          html += `
            <div class="content-item">
              <h4>${notification.title}</h4>
              <div class="content-meta">Date: ${notification.date} ${tags ? ` | Tags: ${tags}` : ''}</div>
              ${notification.link ? `<div class="content-meta">Link: <a href="${notification.link}" target="_blank">${notification.link}</a></div>` : ''}
              <div class="content-actions">
                <button class="btn info" onclick="editContent('notification', '${notification.id}')">Edit</button>
                <button class="btn success" onclick="viewContent('${notification.link || '#'}')">${notification.link ? 'View Link' : 'No Action'}</button>
              </div>
            </div>
          `;
        });
      }
      document.getElementById('notificationsList').innerHTML = html;
    }

    function loadMedia() {
      const html = `<h3>üñºÔ∏è Media Library</h3>
        <p>Media management would show all uploaded images and assets...</p>
        <div style="padding: 20px; background: #f8f9fa; border-radius: 8px; margin: 10px 0;">
          <strong>Total Assets:</strong> ${contentData.stats?.totalBlogPosts * 2 || 0} (estimated)<br>
          <strong>Last Updated:</strong> ${contentData.stats?.lastUpdated || 'Unknown'}<br>
          <em>Advanced media management requires backend integration</em>
        </div>`;
      document.getElementById('mediaList').innerHTML = html;
    }

    function createNewContent(type) {
      document.getElementById('modalTitle').textContent = `Create New ${type.charAt(0).toUpperCase() + type.slice(1)}`;
      document.getElementById('contentForm').reset();
      document.getElementById('deleteBtn').style.display = 'none';

      // Set default date
      const now = new Date();
      document.getElementById('date').value = now.toISOString().slice(0, 16);

      // Show/hide form fields based on content type
      document.getElementById('blogFields').style.display = type === 'blog' ? 'block' : 'none';

      document.getElementById('editModal').style.display = 'block';
    }

    function editContent(type, id) {
      document.getElementById('modalTitle').textContent = `Edit ${type.charAt(0).toUpperCase() + type.slice(1)}`;
      document.getElementById('deleteBtn').style.display = 'inline-block';

      // Load content data (in real CMS this would fetch from backend)
      if (contentData[type] && contentData[type].find(item => item.id === id)) {
        const item = contentData[type].find(item => item.id === id);
        if (type === 'blog') {
          document.getElementById('title').value = item.title || '';
          document.getElementById('description').value = item.description || '';
          document.getElementById('date').value = item.date + 'T12:00';
          document.getElementById('author').value = item.author || '';
          document.getElementById('tags').value = item.tags ? item.tags.join(', ') : '';
          document.getElementById('category').value = item.category || '';
          document.getElementById('featured').checked = item.featured || false;
        }
      }

      document.getElementById('editModal').style.display = 'block';
    }

    function viewContent(url) {
      window.open(url, '_blank');
    }

    function previewContent(url) {
      window.open(url + '?preview=true', '_blank');
    }

    function closeModal() {
      document.getElementById('editModal').style.display = 'none';
    }

    // Initialize
    window.onload = async function () {
      await loadContentData();
      loadBlogPosts();
      loadHubContent();
      loadAuthors();
      loadNotifications();
      loadPages();
      loadMedia();
    };

    // Handle form submission
    document.getElementById('contentForm').addEventListener('submit', function (e) {
      e.preventDefault();
      alert('Content saved! (Demo mode - integration with GitHub API needed for persistence)');
      closeModal();
    });

    // Close modal when clicking outside
    window.onclick = function (event) {
      if (event.target === document.getElementById('editModal')) {
        closeModal();
      }
    }
  </script>
</body>

</html>